<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <title>zPlugins Projects</title>
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <link rel="icon" type="image/png" href="sources/global/yleoft.png">

    <!-- Styles split by concern -->
    <link rel="stylesheet" href="styles/base.css">
    <link rel="stylesheet" href="styles/layout.css">
    <link rel="stylesheet" href="styles/components.css">
    <link rel="stylesheet" href="styles/modal.css">
    <link rel="stylesheet" href="styles/popovers.css">
    <link rel="stylesheet" href="styles/search.css">
    <link rel="stylesheet" href="styles/release-insights.css">
    <link rel="stylesheet" href="styles/theme.css">
    <link rel="stylesheet" href="styles/background.css">

    <!-- Marked.js & Fuse.js -->
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/fuse.js@6.6.2/dist/fuse.min.js"></script>
</head>
<body>
<!-- stacked canvases for layered effects (all pointer-events: none) -->
<canvas id="bgCanvas" aria-hidden="true"></canvas>
<canvas id="parallaxCanvas" aria-hidden="true"></canvas>
<canvas id="auroraCanvas" aria-hidden="true"></canvas>
<canvas id="constellationCanvas" aria-hidden="true"></canvas>
<canvas id="cometCanvas" aria-hidden="true"></canvas>
<canvas id="sparksCanvas" aria-hidden="true"></canvas>

<div class="page-content">
    <button class="dark-mode-toggle" id="toggleBtn" aria-label="Toggle theme">ðŸŒ™</button>

    <!-- Discord button (top-left) -->
    <a id="discordBtn" class="discord-btn" href="https://discord.gg/yCdhVDgn4K" title="Discord" aria-label="Discord" target="_blank" rel="noopener">
        <img src="sources/global/discord.svg" alt="Discord" style="width:18px;height:18px;display:block"/>
    </a>

    <!-- GitHub button below Discord (uses theme variants) -->
    <a id="githubBtn" class="github-top-btn" href="https://github.com/yL3oft" title="GitHub" aria-label="GitHub" target="_blank" rel="noopener">
        <img id="githubTopImg"
             data-dark-options='["sources/darkmode/github.svg","sources/global/github.svg"]'
             data-light-options='["sources/lightmode/github.svg","sources/global/github.svg"]'
             alt="GitHub"
             style="width:18px;height:18px;display:block" />
    </a>

    <!-- Language toggle (top-right area near theme toggle) -->
    <div class="lang-toggle-wrap" id="langToggleWrap" aria-hidden="false">
        <button id="langToggle" class="lang-toggle" title="Switch language" aria-label="Switch language" data-i18n="lang.toggle">EN</button>
    </div>

    <h1>
        <span class="brand-row">
            <img id="banner" class="brand-logo" src="sources/global/yleoft.png" alt="yLeoft logo">
            <span id="brandText" class="brand-text" data-i18n="brand">yLeoft Projects</span>
        </span>
    </h1>

    <button id="refreshBtn" class="refresh-btn" title="Refresh stats" aria-label="Refresh stats">âŸ³</button>

    <div class="search-wrapper">
        <input type="text" id="searchBox" placeholder="Search projects..." class="search-input" aria-autocomplete="list" aria-haspopup="listbox" aria-expanded="false" aria-controls="searchSuggestions" data-i18n="search.placeholder" />
        <ul id="searchSuggestions" class="search-suggestions" role="listbox" aria-label="Search suggestions" hidden></ul>
    </div>

    <div class="container" id="projectsContainer"></div>

    <footer>
        Â© <span id="year"></span> zPlugins | <a href="https://github.com/yL3oft" target="_blank" rel="noopener">GitHub</a>
    </footer>

    <div id="releaseModal" class="modal hidden" aria-hidden="true" role="dialog" aria-labelledby="releaseTitle" aria-modal="true">
        <div class="modal-backdrop" id="modalBackdrop"></div>
        <div class="modal-content" role="document">
            <div class="modal-controls" aria-hidden="false">
                <button id="modalPrev" class="modal-nav-btn" data-i18n="modal.prev" aria-label="Previous release">â—€ Previous</button>
                <button id="modalNext" class="modal-nav-btn" data-i18n="modal.next" aria-label="Next release">Next â–¶</button>
                <button id="modalCopy" class="modal-copy-btn" data-i18n="modal.copy" aria-label="Copy deep link to current release" title="Copy deep link">Copy</button>
                <button class="modal-close" id="modalClose" data-i18n="modal.close" aria-label="Close release notes">âœ•</button>
            </div>
            <div id="releaseBody" class="modal-release-body"></div>
        </div>
    </div>
</div> <!-- .page-content -->

<!-- Scripts split by concern and loaded in dependency order -->
<script src="scripts/utils.js"></script>
<script src="scripts/i18n.js"></script>
<script src="scripts/github-api.js"></script>
<script src="scripts/ui.js"></script>
<script src="scripts/popovers.js"></script>
<script src="scripts/search.js"></script>
<script src="scripts/modal.js"></script>
<script src="scripts/main.js"></script>

<!-- Effects script (loads after app scripts so window.zp is available) -->
<script src="scripts/background.js"></script>

<script src='https://storage.ko-fi.com/cdn/scripts/overlay-widget.js'></script>
<script>
    kofiWidgetOverlay.draw('yl3oft', {
      'type': 'floating-chat',
      'floating-chat.donateButton.text': 'Support me',
      'floating-chat.donateButton.background-color': '#00b9fe',
      'floating-chat.donateButton.text-color': '#fff'
    });
</script>
</body>
</html>